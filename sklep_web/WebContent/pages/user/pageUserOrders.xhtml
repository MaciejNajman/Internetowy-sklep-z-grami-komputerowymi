<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/main-template.xhtml">

	<ui:define name="title">
	#{txtMain.MyOrders}
</ui:define>

	<ui:define name="content">
		<p:growl id="msg" showDetail="false" life="5000" />

		<p:panel header="#{txtMain.MyOrders}" toggleable="true"
			style="margin-bottom: 1em;">
			<h:form id="form-orders" style="margin-bottom:1em;">
				<p:dataView var="orders" value="#{zamowienieBB.ordersList}" rows="6"
					paginator="true" rowsPerPageTemplate="6,12,16"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					gridIcon="pi pi-th-large" listIcon="pi pi-bars">

					<p:dataViewGridItem>
						<p:panel header="ZamÃ³wienie" style="text-align:center">
							<h:panelGrid columns="1" style="width:100%">

								<h:outputText value="#{zamowienie.nazwaGry}" />
								<h:outputText value="#{zamowienie.cena}" />

								<p:commandLink update=":form-orders:orderDetail"
									oncomplete="PF('carDialog').show()" title="View Detail">
									<h:outputText styleClass="ui-icon pi pi-search"
										style="margin:0 auto;" />
									<f:setPropertyActionListener value="#{zamowienie}"
										target="#{zamowienieBB.ordersList}" />
								</p:commandLink>
							</h:panelGrid>
						</p:panel>
					</p:dataViewGridItem>

					<p:dataViewListItem>
						<h:panelGrid columns="3" style="width:100%"
							columnClasses="logo,detail">

							<p:outputPanel>
								<h:panelGrid columns="2" cellpadding="5">
									<h:outputText value="Id:" />
									<h:outputText value="#{car.id}" style="font-weight: bold" />

									<h:outputText value="Year:" />
									<h:outputText value="#{car.year}" style="font-weight: bold" />

									<h:outputText value="Color:" />
									<h:outputText value="#{car.color}" style="font-weight: bold" />
								</h:panelGrid>
							</p:outputPanel>

							<p:commandLink update=":form-orders:orderDetail"
								oncomplete="PF('carDialog').show()" title="View Detail">
								<h:outputText styleClass="ui-icon pi pi-search"
									style="margin:0 auto;" />
								<f:setPropertyActionListener value="#{car}"
									target="#{dataGridView.selectedCar}" />
							</p:commandLink>
						</h:panelGrid>
					</p:dataViewListItem>
				</p:dataView>

				<p:dialog header="Car Info" widgetVar="carDialog" modal="true"
					showEffect="fade" hideEffect="fade" resizable="false">
					<p:outputPanel id="orderDetail" style="text-align:center;">
						<p:panelGrid columns="2"
							rendered="#{not empty zamowienieBB.ordersList}"
							columnClasses="label,value">

							<h:outputText value="Nazwa:" />
							<h:outputText value="#{zamowienieBB.ordersList.nazwaGry}" />

							<h:outputText value="Cena:" />
							<h:outputText value="#{zamowienieBB.ordersList.cena}" />

							<h:outputText value="Gatunek:" />
							<h:outputText value="#{zamowienieBB.ordersList.gatunek}" />

							<h:outputText value="Price" />
							<h:outputText value="#{zamowienieBB.ordersList.klasyfikacjaWiekowa}" />
							
							<h:outputText value="Price" />
							<h:outputText value="#{zamowienieBB.ordersList.producentGry}" />
							
							<h:outputText value="Price" />
							<h:outputText value="#{zamowienieBB.ordersList.dataZlozeniaZamowienia}" />
							
							<h:outputText value="Price" />
							<h:outputText value="#{zamowienieBB.ordersList.dataRealizacjiZamowienia}" />
						</p:panelGrid>
					</p:outputPanel>
				</p:dialog>
			</h:form>
		</p:panel>

	</ui:define>

</ui:composition>
</html>